<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>sketch two</title>

    <style>
      .back-button {
        font-size: 1.5rem;
        color: white;
      }

      [data-draggable] {
        user-select: none;
        margin: 0;
        padding: 1rem;
      }

      [data-draggable]:hover {
        cursor: move;
      }
      body {
        background-image: url("assets/green-path.jpg");
      }

      h1 {
        /* font-family: 'Comic Sans MS', cursive; */
        font-style: italic;
        color: white;
        opacity: 0.75;
      }

      figure {
        width: 150px;
        align-items: center;
        display: inline-flex;
        flex-direction: column;
      }

      figure:focus {
        outline: none;
      }

      figure:focus > figcaption {
        background-color: green;
        border-color: green;
        color: white;
      }

      figure:focus > figcaption > a {
        color: white;
      }

      figure:focus > .fake-icon,
      figure:focus > .icon {
        border-color: green;
      }

      figcaption {
        overflow-wrap: anywhere;
        text-align: center;
        background-color: rgba(220, 220, 220, 0.75);
        border-radius: 8px;
        padding: 5px;
        min-width: 40px; /* for the icon width */
      }

      .fake-icon {
        background-color: rgb(128, 128, 128, 1);
        border: 10px solid rgba(220, 220, 220, 0.75);
        border-radius: 10px;
        display: inline-flex;
        height: 50px;
        margin-bottom: 10px;
        width: 50px;
      }
    </style>
    <script>
      function setTopLeft(element) {
        const { top, left } = element.getBoundingClientRect()
        const { scrollX, scrollY } = window
        element.style.setProperty("top", `${top + scrollY}px`)
        element.style.setProperty("left", `${left + scrollX}px`)
      }

      function setPositionAbsolute(element) {
        element.style.setProperty("position", "absolute")
      }

      function onMouseDown(event) {
        event.stopPropagation()
        const { currentTarget, target, pageX, pageY, clientX, clientY } = event
        const { left, top } = currentTarget.getBoundingClientRect()
        const shiftX = clientX - left
        const shiftY = clientY - top

        function moveTo(pageX, pageY) {
          const newLeft = pageX - shiftX + "px"
          const newTop = pageY - shiftY + "px"
          currentTarget.style.setProperty("left", newLeft)
          currentTarget.style.setProperty("top", newTop)
        }

        function onMouseMove(event) {
          moveTo(event.pageX, event.pageY)
        }

        function onMouseUp() {
          document.removeEventListener("mousemove", onMouseMove)
          document.removeEventListener("mouseup", onMouseUp)
        }

        document.addEventListener("mousemove", onMouseMove)
        document.addEventListener("mouseup", onMouseUp)
      }

      window.addEventListener("load", (event) => {
        const elements = document.querySelectorAll("[data-draggable]")
        elements.forEach(setTopLeft)
        elements.forEach(setPositionAbsolute)
        elements.forEach((ele) =>
          ele.addEventListener("mousedown", onMouseDown)
        )

        const icons = document.querySelectorAll(".icon")
        icons.forEach((e) => e.setAttribute("draggable", false))
      })
    </script>

  <!-- For now, I'm just adding styles to play around with how things feel. -->
  </head>
  <body>
    <nav>
      <a class="back-button" href="http://localhost:8089/index.html">back</a>
    </nav>
    <main>
      <h1 data-draggable style="top: 79px; left: 195px; position: absolute;">welcome to a small place on my hard drive i've created just for you</h1>
      <figure role="button" tabindex="1" data-draggable="" style="top: -7.125px; left: 1032px; position: absolute;">
        <img class="icon" src="assets/icon_binary.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>not-a-link.txt</figcaption>
      </figure>
      <figure role="button" tabindex="2" data-draggable="" style="top: 572.875px; left: 105.984px; position: absolute;">
        <img class="icon" src="assets/icon_text.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>future-feelings.txt</figcaption>
      </figure>
      <figure role="button" tabindex="3" data-draggable="" style="top: 292.875px; left: 385.062px; position: absolute;">
        <img class="icon" src="assets/icon_dir.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>hm/</figcaption>
      </figure>
      <figure role="button" tabindex="4" data-draggable="" style="top: 171.875px; left: 1047.06px; position: absolute;">
        <img class="icon" src="assets/icon_image2.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>i-am-an-aspiring-teacher.png</figcaption>
      </figure>
      <figure role="button" tabindex="5" data-draggable="" style="top: 508.875px; left: 190.062px; position: absolute;">
        <img class="icon" src="assets/icon_image2.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>not-all-features.png</figcaption>
      </figure>
      <figure role="button" tabindex="6" data-draggable="" style="top: 607.875px; left: 657.797px; position: absolute;">
        <img class="icon" src="assets/icon_image2.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>
          Screen Shot 2021-03-09 at 10.19.53 PM.png
        </figcaption>
      </figure>
      <figure role="button" tabindex="7" data-draggable="" style="top: 299.875px; left: 917.797px; position: absolute;">
        <img class="icon" src="assets/icon_image2.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>welcome/hello,goodday!!!!.png</figcaption>
      </figure>
      <figure role="button" tabindex="8" data-draggable="" style="top: 852.875px; left: 901.797px; position: absolute;">
        <img class="icon" src="assets/icon_movie.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>would-you-like-to/find-out.jpeg</figcaption>
      </figure>
      <figure role="button" tabindex="9" data-draggable="" style="top: 404.875px; left: 1248.8px; position: absolute;">
        <img class="icon" src="assets/icon_unknown.png"/>
        <!-- <span class="fake-icon" role="presentation"></span> -->
        <figcaption>you-deserve-a.png</figcaption>
      </figure>
    </main>
  </body>
</html>